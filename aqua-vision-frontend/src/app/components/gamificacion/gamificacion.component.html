<!DOCTYPE html>
<!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Thu Sep 11 2025 23:50:52 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="68c055338cb871eeefeeccf7" data-wf-site="688247509de70e4ad4050954">

<head>
  <meta charset="utf-8">
  <title>AquaQuest</title>
  <meta content="AquaQuest" property="og:title">
  <meta content="AquaQuest" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <!--link href="css/normalize.css" rel="stylesheet" type="text/css"-->
  <!--link href="css/webflow.css" rel="stylesheet" type="text/css"-->
  <!--link href="css/aquavision-portal-usuarios.webflow.css" rel="stylesheet" type="text/css"-->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script
    type="text/javascript">WebFont.load({ google: { families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"] } });</script>
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>

<body class="body-4">

  <div class="modal-popup" *ngIf="activeModal === 'medallas'" (click)="closeModal()">
    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon"
        class="cross-icon" (click)="closeModal()">
      <h1 class="title-medallas">Mis medallas</h1>
      <div class="container-modal-medallas">
        <p class="descr-medallas">En este apartado podr√°s ver todas tus medallas conseguidas, las medallas oscurecidas
          se podr√°n ver una vez las desbloquees.</p>
        <div class="grid-medallas grid">
          <!--div class="medalla">
            <img class="prueba" src="images/medalla_oro.png" loading="lazy" alt="medalla oro">
            <h4 class="nombre-medalla">&lt;nombre medalla&gt;</h4>
          </div>
          <div class="medalla">
            <img class="prueba" src="images/medalla_oro_bloqueada.png" loading="lazy" alt="medalla oro">
            <h4 class="nombre-medalla">&lt;nombre medalla&gt;</h4>
          </div-->
          <div class="medalla" *ngFor="let medalla of medallas" [class.bloqueada]="!esMedallaDesbloqueada(medalla.id)"
            (mouseenter)="showTooltipMedalla($event, medalla)" (mousemove)="moveTooltipMedalla($event)"
            (mouseleave)="hideTooltipMedalla()">
            <img class="prueba" [src]="esMedallaDesbloqueada(medalla.id)
                ? 'images/medalla_oro.png'
                : 'images/medalla_oro_bloqueada.png'" alt="{{ medalla.nombre }}" />
            <h4 class="nombre-medalla">{{ medalla.nombre }}</h4>
          </div>
        </div>

        <div class="tooltip-flotante" *ngIf="tooltipVisibleMedalla" [style.top.px]="tooltipYMedalla"
          [style.left.px]="tooltipXMedalla">
          {{ tooltipTextMedalla }}
        </div>

      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">

    </div>
  </div>

  <div class="modal-popup" *ngIf="activeModal === 'logros'" (click)="closeModal()">
    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon"
        class="cross-icon" (click)="closeModal()">
      <h1 class="title-medallas">Mis logros</h1>
      <div class="container-modal-medallas">
        <p class="descr-medallas">En este apartado podr√°s ver todos tus logros conseguidos y m√°s informaci√≥n de cada
          uno. Algunos logros solo mostrar√°n informaci√≥n una vez conseguidos.</p>
      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">

    </div>
  </div>

  <!--div class="modal-popup" *ngIf="activeModal === 'avatar'" (click)="closeModal()">
    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
        <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon" class="cross-icon"
        (click)="closeModal()">
      <h1 class="title-medallas">Personaliza tu avatar</h1>
      <div class="container-modal-medallas">
        <div class="grid-avatares">
          <div class="avatar">
            <img class="avatarpng" src="images/avatar-gotita.png" loading="lazy" alt="avatar1">
            <h4 class="nombre-avatar">&lt;nombre avatar&gt;</h4>
          </div>
          <div class="avatar">
            <img class="avatarpng" src="images/avatar2.png" loading="lazy" alt="avatar2">
            <h4 class="nombre-avatar">&lt;nombre avatar&gt;</h4>
          </div>
          <div class="avatar">
            <img class="avatarpng" src="images/avatar2.png" loading="lazy" alt="avatar2">
            <h4 class="nombre-avatar">&lt;nombre avatar&gt;</h4>
          </div>
        </div>
      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">
        
    </div>
  </div-->

  <div class="modal-popup" *ngIf="activeModal === 'trivia'" (click)="closeModal()">
    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon"
        class="cross-icon" (click)="closeModal()">
      <h1 class="title-medallas">Trivia #</h1>
      <div class="container-modal-medallas">
      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">

    </div>
  </div>


  <div class="modal-popup" *ngIf="activeModal === 'ranking'" (click)="closeModal()">

    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" alt="cross-icon" class="cross-icon" (click)="closeModal()">

      <h1 class="title-medallas">Ranking completo de hogares</h1>

      <div class="container-modal-medallas">
        <p class="descr-medallas">
          Ac√° pod√©s ver todas las posiciones del ranking de hogares. ¬øEn qu√© posici√≥n est√°s hoy?
        </p>
      </div>


      <div class="ranking-scroll-wrapper">
        <div class="container-ranking">
          <ul role="list" class="ranking-list">


            <li class="ranking-row header">
              <div class="col pos"><h3>#</h3></div>
              <div class="col user"><h3>Usuario</h3></div>
              <div class="col loc"><h3>Localidad</h3></div>
              <div class="col sec"><h3>Sectores</h3></div>
              <div class="col juego"><h3>Juego m√°s jugado</h3></div>
              <div class="col pts"><h3>Puntos</h3></div>
            </li>


            <li class="ranking-row" *ngFor="let hogar of rankingHogaresGeneral">

              <div class="col pos">
                <h3>{{ hogar.posicion }}</h3>
              </div>

              <div class="col user">
                <img src="images/circle-user-dark.png" loading="lazy" alt="user-icon">
                <span>{{ hogar.nombre }}</span>
              </div>

              <div class="col loc">
                <span>{{ hogar.localidad }}</span>
              </div>

              <div class="col sec">
                <span>{{ hogar.cantidad_sectores }}</span>
              </div>

              <div class="col juego">
                <span>{{ formatearNombreJuego(hogar.juego_mas_jugado) }}</span>
              </div>

              <div class="col pts">
                <h3>{{ hogar.puntaje_ranking }}</h3>
              </div>

            </li>

          </ul>
        </div>
      </div>
    </div>

    <div class="div-block-4"></div>
  </div>

  <div class="modal-popup" *ngIf="activeModal === 'recompensas'" (click)="closeModal()">
    <div class="modal-popup-medallas" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon"
        class="cross-icon" (click)="closeModal()">
      <h1 class="title-medallas">Recompensas</h1>
      <div class="container-modal-medallas">
        <p class="descr-medallas">Ac√° podes ver todas las recompensas disponibles para canjear usando tus AquaPuntos.
        </p>
      </div>
      <div class="container-recompensas">
        <ul role="list" class="recompensas-list">
          <!--HEADER DE TABLA RECOMPENSA-->
          <li class="titulo-recompensa">
            <div class="header-recompensa">
              <div class="div-block-9">
                <h3 class="heading-5">Recompensa</h3>
              </div>
              <div class="div-recompensa">
                <h3 class="heading-6">Puntos</h3>
              </div>
            </div>
          </li>

          <!--TABLA DINAMICA TOMANDO RECOMPENSAS-->
          <li class="item-recompensa" *ngFor="let recompensa of recompensas; let i = index" [ngClass]="{
            'canjeada': recompensasCanjeadas.has(recompensa.id),
            'insuficiente': (hogar?.puntos ?? 0) < recompensa.puntosNecesarios,
            'canjeando': isLoadingCanje[recompensa.id]
          }">
            <div class="user-container-ranking">
              <div class="user-posicion-rank">
                <h3>{{ i + 1 }}</h3>
              </div>
              <div class="user-rank-container">
                <h3>{{ recompensa.descripcion }}</h3>
              </div>
            </div>

            <div class="recompensa-canjearpuntos-boton">
              <h3>{{ recompensa.puntosNecesarios }}</h3>

              <button class="animated-button" [ngClass]="{
                'cargando': isLoadingCanje[recompensa.id],
                'canjeado': recompensasCanjeadas.has(recompensa.id)
              }"
                [disabled]="recompensasCanjeadas.has(recompensa.id) || (hogar?.puntos ?? 0) < recompensa.puntosNecesarios || isLoadingCanje[recompensa.id]"
                (click)="canjear(recompensa)">
                <svg viewBox="0 0 24 24" class="arr-2" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z">
                  </path>
                </svg>
                <span class="circle"></span>
                <svg viewBox="0 0 24 24" class="arr-1" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z">
                  </path>
                </svg>

                <span class="text">
                  {{ recompensasCanjeadas.has(recompensa.id)
                  ? 'Canjeado'
                  : isLoadingCanje[recompensa.id]
                  ? 'Canjeando...'
                  : (hogar?.puntos ?? 0) < recompensa.puntosNecesarios ? 'No disponible' : 'Canjear' }} </span>

                    <span class="circle"></span>
              </button>


            </div>
          </li>
        </ul>
      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">

    </div>
  </div>

  <!--ACA EMPIEZA PAGINA EN SI-->

  <div class="container-bienvenida-gamificacion">
    <div class="bienvenida-gamificacion">
      <h2 class="heading-2">Convert√≠ tu consumo en un juego</h2>
      <p class="bio-micuenta">Aprend√©, compet√≠ y descubr√≠ formas de ahorrar agua mientras te divert√≠s.</p>
    </div>

    <div class="user-hud">
      <div class="user-info">
        <img src="images/avatar-gotita.png" alt="" class="avatargota-hud">
        <div class="user-text">
          <h1 class="nombre_avatar_hud">{{ user?.username }}</h1>
          <div class="user-points">
            <img src="images/droplet.png" alt="" class="image-points-hud">
            <span>{{ hogar?.puntos }}</span>
          </div>
        </div>
      </div>

      <div class="user-actions">
        <div class="hud-button" (click)="openModal('medallas')">
          <img src="images/medalla_oro.png" alt="" class="medallas-image">
          <span>Medallas</span>
        </div>
        <div class="hud-button" (click)="openModal('recompensas')">
          <img src="images/recompensa.png" alt="">
          <span>Canje</span>
        </div>
      </div>
    </div>

  </div>
  <!--div class="seccion-gamificacion">
    <div class="container-coleccionables">
      <div class="container-avatar" *ngIf="user">
        <img src="images/avatar-gotita.png" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" srcset="images/avatar-gotita-p-500.png 500w, images/avatar-gotita-p-800.png 800w, images/avatar-gotita.png 1024w" alt="" class="avatargota">
        <img src="images/pencil.png" loading="lazy" alt="" class="lapiz_editar" (click)="openModal('avatar')">
        <h1 class="nombre_avatar">Hola, {{ user.username }}</h1>
      </div>
      <div class="coleccionables">
        <div data-w-id="a1b73ec8-d98a-c8c8-77d5-0bd64f309b33" class="medallas" (click)="openModal('medallas')">
          <div class="medallas-modal w-inline-block">
            <img src="images/sports_medal.png" loading="lazy" alt="" class="image-11">
            <h4 class="medallas">Mis medallas</h4>
          </div>
        </div>
        <div id="w-node-a4303d0c-eadb-ec37-7932-dae34b1af9ab-efeeccf7" class="container-puntos">
          <div class="puntos">
            <img src="images/droplet.png" loading="lazy" alt="" class="image-12">
            <h1 class="container-puntos">{{hogar?.puntos}}</h1>
          </div>
        
          <div class="container-canjea-puntos">
            <h4 class="texto-canjea-puntos" (click)="openModal('recompensas')">Canjea tus AquaPuntos ac√°</h4>
          </div>
        </div>
      </div>
    </div>
  </div-->


  <div class="seccion-minijuegos">
    <h2 class="heading-2">Minijuegos</h2>
    <p class="bio-micuenta">Pon√© a prueba tu agilidad y memoria mientras aprend√©s a cuidar el agua.</p>
    <div class="spacer-40"></div>
    <div class="container-minijuegos">
      <div [routerLink]="['/gamificacion/aqua-save']" class="minijuego-modal w-inline-block">
        <img src="images/aquasave-icon.png" loading="lazy" alt="aquasave-icon" class="image-7">
        <h4 class="minijuego">AquaSave</h4>
      </div>
      <div [routerLink]="['/gamificacion/aqua-cards']" class="minijuego-modal w-inline-block">
        <img src="images/aquacards-icon.png" loading="lazy" alt="aquacards-icon" class="image-7">
        <h4 class="minijuego">AquaCards</h4>
      </div>
      <div [routerLink]="['/gamificacion/aqua-match']" class="minijuego-modal w-inline-block">
        <img src="images/aquamatch-icon.png" loading="lazy" alt="aquamatch-icon" class="aquamatch-png">
        <h4 class="minijuego">AquaMatch</h4>
      </div>
      <div class="minijuego-modal w-inline-block">
        <img src="images/coming-soon.png" loading="lazy" alt="" class="image-7">
        <h4 class="minijuego">Nuevo juego pr√≥ximamente</h4>
      </div>
    </div>
  </div>

  <div class="seccion-trivias">
    <h2 class="heading-2">Trivias</h2>
    <p class="bio-micuenta">Pon√© a prueba tus conocimientos sobre el consumo de agua.</p>
    <div class="spacer-40"></div>
    <div class="container-trivias">
      <div *ngFor="let trivia of trivias" [ngClass]="{
         'trivia-modal-completado': trivia.completado,
         'trivia-modal': !trivia.completado && trivia.diaSemana === diaActual,
         'trivia-modal-no-completado': !trivia.completado && trivia.diaSemana < diaActual,         
         'trivia-modal-bloqueado': trivia.diaSemana > diaActual
        }" [routerLink]="!trivia.completado && trivia.diaSemana === diaActual ? ['/gamificacion/trivia'] : null"
        [class.w-inline-block]="true" (mouseenter)="trivia.diaSemana > diaActual && showTooltip($event, trivia)"
        (mousemove)="trivia.diaSemana > diaActual && moveTooltip($event)" (mouseleave)="hideTooltip()">

        <img src="images/circle-user-dark.png" loading="lazy" alt="user-icon">

        <img *ngIf="trivia.completado && trivia.diaSemana <= diaActual" src="images/check.png" loading="lazy"
          alt="check" class="image-13">
        <img *ngIf="trivia.diaSemana > diaActual" src="images/candado-blanco.png" loading="lazy" alt="candado"
          class="image-13">
        <img *ngIf="!trivia.completado && trivia.diaSemana < diaActual" src="images/no-completado.png" loading="lazy"
          alt="no completado" class="image-17-no-completado">

        <h4 [ngClass]="{
          'trivia-completado': trivia.completado,
          'trivia': !trivia.completado && trivia.diaSemana === diaActual,
          'trivia-no-completado': !trivia.completado && trivia.diaSemana < diaActual,
          'trivia-bloqueado': trivia.diaSemana > diaActual
          }">
          {{ trivia.nombre }}
        </h4>
      </div>
    </div>

    <!-- Tooltip flotante -->
    <div class="tooltip-flotante2" *ngIf="tooltipVisible" [style.top.px]="tooltipY" [style.left.px]="tooltipX">
      {{ tooltipText }}
    </div>
  </div>

  <div class="seccion-desafios">
    <h2 class="heading-2">Desaf√≠os</h2>
    <p class="bio-micuenta">Cumpl√≠ misiones diarias o semanales para sumar puntos.</p>
    <div class="spacer-40"></div>

    <div class="container-desafios">

      <ul role="list" class="desafios-list">

        <li class="titulo-desafios">
          <div class="primera-parte-header-desafios">
            <div class="con-numero-desafio">
              <h3 class="heading-5">#</h3>
            </div>
            <div class="descripcion-desafio">
              <h3 class="heading-6">Descripci√≥n</h3>
            </div>
          </div>
          <div class="estado-desafio-titulo">
            <h3 class="heading-7">Estado</h3>
          </div>
        </li>

        <!--LISTADO DINAMICO DE DESAFIOS-->

        <li class="item-desafio" *ngFor="let desafio of desafiosPendientes; let i = index">
          <div class="container-desafio-numYdesc">
            <div class="con-numero-desafio">
              <h3 class="text-numero-desafio">{{ i + 1 }}</h3>
            </div>
            <div class="descripcion-desafio">
              <p class="text-descripcion-desafio">{{ desafio.descripcion }}</p>
              <p>|</p>
              <p class="recompensa-puntos">Ganas: {{ desafio.puntosRecompensa }} puntos</p>
            </div>
          </div>

          <div class="container-estado-desafio">
            <div class="estado-desafio">
              <div class="progress-bar-container">
                <div class="progress-bar">
                  <div class="progress-fill" [style.width.%]="desafio.progresoActual">{{ desafio.progresoActual }}%
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>

        <li class="item-desafio completado-listo-para-reclamar"
          *ngFor="let desafio of desafiosCompletados; let i = index" [class.desafio-reclamado]="desafio.reclamado">

          <div class="container-desafio-numYdesc">
            <div class="con-numero-desafio">
              <h3 class="text-numero-desafio">{{ desafio.reclamado ? 'üèÜ' : '‚úÖ' }}</h3>
            </div>
            <div class="descripcion-desafio">
              <p class="text-descripcion-desafio">
                {{ desafio.reclamado ? '¬°RECLAMADO!' : '¬°COMPLETADO!' }} {{ desafio.descripcion }}
              </p>
              <p class="recompensa-puntos">
                {{ desafio.reclamado ? 'Puntos obtenidos' : 'Puntos por reclamar' }}: {{ desafio.puntosRecompensa }}
              </p>
            </div>
          </div>

          <div class="container-estado-desafio">
            <button (click)="reclamarPuntos(desafio)"
              [disabled]="desafio.reclamado || isLoadingDesafio[desafio.idDesafioGlobal]"
              [class.btn-reclamar-reclamado]="desafio.reclamado" class="btn-reclamar-puntos">
              <ng-container *ngIf="desafio.reclamado; else botonReclamar">
                Reclamado
              </ng-container>
              <ng-template #botonReclamar>
                {{ isLoadingDesafio[desafio.idDesafioHogar] ? 'Reclamando...' : 'Reclamar Puntos' }}
              </ng-template>
            </button>
          </div>
        </li>

      </ul>
      <p class="no-desafios-mensaje" *ngIf="desafios.length === 0">
        Cargando desaf√≠os...
      </p>
      <p class="no-desafios-mensaje"
        *ngIf="desafiosPendientes.length === 0 && desafiosCompletados.length === 0 && desafios.length > 0">
        ¬°Excelente! No tienes desaf√≠os pendientes ni listos para reclamar. üéâ
      </p>


    </div>
  </div>

<div class="seccion-ranking">
  <h2 class="heading-2">Ranking de hogares</h2>
  <p class="bio-micuenta">Compet√≠ con otros hogares para ver qui√©n cuida m√°s el agua.</p>

  <div class="spacer-40"></div>


  <div class="mini-ranking-scroll-wrapper">
    <div class="mini-container-ranking">

      <ul class="mini-ranking-list">


        <li class="mini-ranking-header">
          <div>#</div>
          <div>Usuario</div>
          <div>Puntos</div>
          <div>Juego m√°s jugado</div>
        </li>


        <li class="mini-ranking-row" *ngFor="let hogar of top5Hogares">
          <div>{{ hogar.posicion }}</div>

          <div class="mini-ranking-user">
            <img src="images/circle-user-dark.png" alt="user-icon">
            <span>{{ hogar.nombre }}</span>
          </div>

          <div>{{ hogar.puntaje_ranking }}</div>

          <div>{{ formatearNombreJuego(hogar.juego_mas_jugado) }}</div>
        </li>

        <li class="mini-ranking-ver-todo" (click)="openModal('ranking')">
          Ver todas las posiciones del ranking
        </li>

      </ul>

    </div>
  </div>

  <div class="spacer-40"></div>
</div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=688247509de70e4ad4050954"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>

</html>