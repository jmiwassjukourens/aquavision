<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Wed Aug 20 2025 11:57:55 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="689207ad2e2e9ebb49c2a4b5" data-wf-site="688247509de70e4ad4050954">
  <head>
    <meta charset="utf-8">
    <title>AquaVision · Portal</title>
    <meta content="AquaVision · Portal" property="og:title">
    <meta content="AquaVision · Portal" property="twitter:title">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Webflow" name="generator">
    <!--link href="account-settings/normalize.css" rel="stylesheet" type="text/css"-->
    <!--link href="/account-settings/webflow.css" rel="stylesheet" type="text/css"-->
    <!--link href="src/app/components/account-settings/aquavision-portal-usuarios.webflow.css" rel="stylesheet" type="text/css"-->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
    <link href="src/app/components/account-settings/images/favicon.png" rel="shortcut icon" type="image/x-icon">
    <link href="src/app/components/account-settings/images/webclip.png" rel="apple-touch-icon">
  </head>
  <body class="body-2">

  <div class="modal-popup" *ngIf="activeModal === 'personal'" (click)="closeModal()" >
    <div class="modal-popup-item" (click)="$event.stopPropagation()" *ngIf="user">
      <img src="images/x.png" loading="lazy" data-w-id="1e87669f-b793-dcfd-c1aa-3646179c847d" alt="cross-icon" class="cross-icon"
        (click)="closeModal()">
      <h1 class="modal-datosperso-title">Datos personales</h1>
      <div class="div-block-2">
        <h4 class="descr-datosperso">Acá podrás ver y editar tus datos personales.</h4>
        <div class="nombre-apellido-container">
          <div class="nombre-container">
            <h4 class="datoperso-subtitle">Nombre</h4>
            <p class="datoperso">{{user.nombre}}</p>
          </div>
          <div class="apellido-container">
            <h4 class="datoperso-subtitle">Apellido</h4>
            <p class="datoperso">{{user.apellido}}</p>
          </div>
        </div>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Nombre de usuario</h4>
          <p class="datoperso">{{user.nombreUsuario}}</p>
        </div>  
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Correo</h4>
          <div class="correo-container">
            <p class="datoperso">{{user.correo}}</p>

            <div class="container-verificado">
              <!-- Caso verificado -->
              <ng-container *ngIf="user.correoVerificado; else noVerificado">
                <img src="images/check.png" loading="lazy" alt="check" class="mailverification-check">
                <p class="mailverificado-text">Dirección de correo electrónico verificada.</p>
              </ng-container>

              <!-- Caso no verificado -->
              <ng-template #noVerificado>
                <img src="images/alert.png" loading="lazy" alt="alert" class="mailverification-alert">
                <p class="mailnoverificado-text">Tu correo no está verificado. Revisá tu bandeja para completar la verificación.</p>
              </ng-template>
            </div>
          </div>
        </div>     
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Último login</h4>
          <p class="datoperso">{{user.ultimoLogin | date:'short'}}</p>
        </div>  
      </div>
    </div>
    <div data-w-id="fbec1e20-8656-8bce-35c1-ea665c7ad832" class="div-block-4">
        
    </div>
  </div>

  <div class="modal-popup2" *ngIf="activeModal === 'home'" (click)="closeModal()">
    <div class="modal-popup-item" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="72db08c7-a6fc-ee50-8ca3-99ba177584a0" alt="cross-icon" class="cross-icon" (click)="closeModal()">
      <h1 class="modal-datosperso-title">Tu hogar</h1>
      <div class="div-block-2">
        <h4 class="descr-datosperso">Acá podrás ver y editar los datos de tu hogar como dirección, tipo de vivienda, ambiente y más.</h4>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Nombre del hogar</h4>
          <p class="datoperso">{{hogar?.nombreHogar}}</p>
        </div>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Dirección</h4>
          <p class="datoperso">{{hogar?.direccion}}</p>
        </div>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Ciudad</h4>
          <p class="datoperso">{{hogar?.ciudad}}</p>
        </div>
        <div class="nombre-apellido-container">
          <div class="nombre-container">
            <h4 class="datoperso-subtitle">Tipo de hogar</h4>
            <p class="datoperso">{{hogar?.tipoHogar}}</p>
          </div>
        </div>
        <div class="nombre-apellido-container">
          <div class="apellido-container">
            <h4 class="datoperso-subtitle">Cantidad de baños</h4>
            <p class="datoperso">{{hogar?.cantidadBanos}}</p>
          </div>
          <div class="apellido-container">
            <h4 class="datoperso-subtitle">Cantidad de integrantes</h4>
            <p class="datoperso">{{hogar?.cantidadIntegrantes}}</p>
          </div>
        </div>
        <div class="tiene-algo-micuenta">          
          <div class="dato-perso-container">
            <h4 class="datoperso-subtitle">Tiene patio</h4>
            <label class="rocker rocker-small">
              <input type="checkbox">
              <span class="switch-left">Yes</span>
              <span class="switch-right">No</span>
            </label>
            </div>
          <div class="dato-perso-container">
            <h4 class="datoperso-subtitle">Tiene pileta</h4>
            <label class="rocker rocker-small">
              <input type="checkbox">
              <span class="switch-left">Yes</span>
              <span class="switch-right">No</span>
            </label>
          </div>
        </div> 
      </div>
    </div>
    <div data-w-id="72db08c7-a6fc-ee50-8ca3-99ba177584a8" class="div-block-4">
      
    </div>
  </div>

  <div class="modal-popup4" *ngIf="activeModal === 'billing'" (click)="closeModal()">
    <div class="modal-popup-item" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="e57b3ffc-87ee-d653-5ca6-917b17c4da37" alt="cross-icon" class="cross-icon" (click)="closeModal()">
      <h1 class="modal-datosperso-title">Facturación</h1>
      <div class="div-block-2">
        <h4 class="descr-datosperso">Acá podrás ver los datos de facturación como métodos de pago, ciclo de facturación y más.</h4>
        <div class="nombre-apellido-container">
          <div class="nombre-container">
            <h4 class="datoperso-subtitle">Plan actual</h4>
            <p class="datoperso">{{facturacion?.planActual}}</p>
          </div>
          <div class="apellido-container">
            <h4 class="datoperso-subtitle">Monto mensual</h4>
            <p class="datoperso">{{facturacion?.monto | currency:'$ '}}</p>
          </div>
        </div>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Fecha de próximo vencimiento</h4>
          <p class="datoperso">{{facturacion?.fechaProxVencimiento | date}}</p>
        </div>
        <div class="dato-perso-container">
          <h4 class="datoperso-subtitle">Método de pago</h4>
          <p class="datoperso">{{facturacion?.metodoPago}}</p>
        </div>
      </div>
    </div>
    <div data-w-id="e57b3ffc-87ee-d653-5ca6-917b17c4da3f" class="div-block-4"></div>
  </div>

  <div class="modal-popup4" *ngIf="activeModal === 'logros'" (click)="closeModal()">
    <div class="modal-popup-item" (click)="$event.stopPropagation()">
      <img src="images/x.png" loading="lazy" data-w-id="e57b3ffc-87ee-d653-5ca6-917b17c4da37" alt="cross-icon" class="cross-icon" (click)="closeModal()">
      <h1 class="modal-datosperso-title">Logros</h1>
      <div class="div-block-2">
        <h4 class="descr-datosperso">Acá podrás ver todos tus logros obtenidos.</h4>
          <div class="container-logros">
            <div class="logros-grid">
              <div *ngFor="let logro of logros" class="logro-item" [class.locked]="!esLogroDesbloqueado(logro.nombre)"
                (mouseenter)="!esLogroDesbloqueado(logro.nombre) && showTooltip($event, logro)"
                (mousemove)="!esLogroDesbloqueado(logro.nombre) && moveTooltip($event)"
                (mouseleave)="hideTooltip()">
                <div class="logro-img-container">
                  <img [src]="esLogroDesbloqueado(logro.nombre)
                    ? 'images/logro-' + logro.nombre + '.png'
                    : 'images/logro-bloqueado.png'"/>
                  <div class="lock-overlay" *ngIf="!esLogroDesbloqueado(logro.nombre)">
                    <img src="images/candado-blanco.png" class="candado-blanco-logro" alt="locked" />
                  </div>
                </div>

                <!-- Mostrar nombre y descripción solo si está desbloqueado -->
                <div *ngIf="esLogroDesbloqueado(logro.nombre)">
                  <h3 class="title-logro">{{ logro.nombre }}</h3>
                  <p class="descr-logro">{{ logro.descripcion }}</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Tooltip flotante -->
          <div class="tooltip-flotante" *ngIf="tooltipVisible" [style.top.px]="tooltipY" [style.left.px]="tooltipX">
            {{ tooltipText }}
          </div>

      </div>
    </div>
    <div data-w-id="e57b3ffc-87ee-d653-5ca6-917b17c4da3f" class="div-block-4"></div>
  </div>

  <ng-container *ngFor="let sensor of sensores; let i = index">
  <div
    class="modal-popup5"
    *ngIf="activeModal === 'sensor' + i"
    (click)="closeModal()"
  >
    <div class="modal-popup-item" (click)="$event.stopPropagation()">
      <img src="images/x.png" alt="cross-icon" class="cross-icon" (click)="closeModal()">
      
      <div class="nombreSensor-y-botones">
      
        <button 
        class="nav-button prev-sensor" 
          (click)="goToPreviousSensor(); $event.stopPropagation()"
          title="Sensor anterior"
        >
          <img src="images/arrow-left-blanca.png" alt="Anterior"> 
        </button>
        
        <h1 class="modal-datosperso-title">Sensor / {{ i + 1 }}</h1>
        
        <button 
          class="nav-button next-sensor" 
          (click)="goToNextSensor(); $event.stopPropagation()"
          title="Sensor siguiente"
        >
          <img src="images/arrow-right-blanca.png" alt="Siguiente"> 
        </button>
      </div>

      <div class="div-block-2">
        <h4 class="descr-datosperso">
          Acá podrás ver el estado del sensor junto con más detalles del mismo.
        </h4>

        <div class="nombre-apellido-container">
          <div class="nombre-container">
            <h4 class="datoperso-subtitle">Nombre del sensor / Sector en el que se encuentra</h4>
            <p class="datoperso">{{ sensor?.nombreSensor }}</p>
          </div>
          <div class="apellido-container">
            <h4 class="datoperso-subtitle">Estado actual</h4>
            <p class="datoperso">{{ sensor?.estadoActual }}</p>
          </div>
        </div>

        <div class="sensor-info-row">
          <div class="info-col">
            <div class="dato-perso-container">
              <h4 class="datoperso-subtitle">Última medición</h4>
              <p class="datoperso">{{ sensor?.ultimaMedicion | date:'short' }}</p>
            </div>
            <div class="dato-perso-container">
              <h4 class="datoperso-subtitle">Consumo actual</h4>
              <p class="datoperso">{{ sensor?.consumoActual }} L</p>
            </div>
          </div>

          <div class="sensor-buttons">
            <button class="btn-sensor manual" (click)="descargarManual()">
              <img src="images/manual-negro.png" alt="manual-icon" class="btn-icon icon-normal">
              <img src="images/manual-blanco.png" alt="manual-icon" class="btn-icon icon-hover">
              Manual de uso
            </button>

              <button class="btn-sensor soporte" (click)="irASoporte()">
                <img src="images/soporte-negro.png" alt="soporte-icon" class="btn-icon icon-normal">
                <img src="images/soporte-blanco.png" alt="soporte-icon" class="btn-icon icon-hover">
                  Soporte técnico
              </button>
            </div>
        </div>
        
        <div class="caudal-actual-container" *ngIf="sensor?.idSector">
            
            <h3 class="main-modal-title">
              Caudal (Minuto a Minuto) para el sector <span class="sector-tag2">{{ sensor?.nombreSensor }}</span>.
            </h3>

            <div class="controls-container">            

              <div class="rango-selector-container">
                <label for="rangoMinutos-{{i}}" class="rango-label">Rango a mostrar (minutos):</label>
                <div class="input-grupo">
                    <input 
                        type="number" 
                        id="rangoMinutos" 
                        [(ngModel)]="currentMinutosSeleccionados" 
                        (ngModelChange)="onRangeChange()" 
                        min="1" 
                        max="60"
                        class="input-minutos-rango"
                    >
                    
                    <small class="rango-help-text">Máximo 60 minutos.</small>
                </div>
                
                <div class="quick-select-buttons">
                    <button class="quick-button" (click)="setRangeAndLoad(10); $event.preventDefault()" (click)="$event.stopPropagation()">10 min</button>
                    <button class="quick-button" (click)="setRangeAndLoad(30); $event.preventDefault()" >30 min</button>
                    <button class="quick-button" (click)="setRangeAndLoad(60); $event.preventDefault()">60 min</button>
                </div>
              </div>

              <div class="view-toggle-buttons" *ngIf="getFlowData(sensor.idSector)">
                <button 
                  (click)="toggleViewMode(sensor.idSector, 'graph')" 
                  [class.active]="getFlowData(sensor.idSector)?.viewMode === 'graph'"
                  class="btn-toggle-view"
                >Gráfico</button>
                <button 
                  (click)="toggleViewMode(sensor.idSector, 'table')" 
                  [class.active]="getFlowData(sensor.idSector)?.viewMode === 'table'"
                  class="btn-toggle-view"
                >Tabla</button>
              </div>

            </div>

              <ng-container *ngIf="getFlowData(sensor.idSector) as flowData">
                  
                <div *ngIf="flowData.loading" class="data-loader">Cargando datos...</div>
                <div *ngIf="flowData.errorMessage" class="data-error">{{ flowData.errorMessage }}</div>
                 
                <div *ngIf="!flowData.loading && !flowData.errorMessage && flowData.noDataFound" class="info-message">
                  ✅ Sistema OK. No se registró consumo de agua en el sector en los últimos {{ flowData.minutosSeleccionados }} minutos.
                </div>

                  <ng-container *ngIf="!flowData.loading && !flowData.errorMessage">
                      
                    <div *ngIf="flowData.viewMode === 'graph'" class="chart-wrapper-inline">
                      <canvas
                        baseChart
                        [data]="flowData.chartData"
                        [options]="flowData.chartOptions"
                        type="line">
                      </canvas>
                    </div>

                      <div *ngIf="flowData.viewMode === 'table'" class="table-wrapper-inline">
                        <table>
                          <thead>
                            <tr>
                              <th>Hora (HH:MM)</th>
                              <th>Caudal (L/min)</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let item of flowData.caudales">
                              <td>{{ item.time }}</td>
                              <td>{{ item.flow | number:'1.0-2' }}</td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                      
                  </ng-container>
              </ng-container>
        </div>
        
      </div>
      </div>

      <div class="div-block-4"></div>
    </div>
  </ng-container>

  <!--FIN DE MODALS ORIGINALES-->

  <!--ACA EMPIEZA LA GRILLA-->
  <div class="container-micuenta">
    <h2 class="heading-2">Panel de usuario</h2>
    <p class="bio-micuenta">Desde aquí podés gestionar tus datos personales, configurar tu hogar y dispositivos, administrar tu acceso y revisar tu facturación.</p>
    <div class="spacer-48"></div>
    <div class="w-layout-grid grid">
      
        <div data-w-id="a1b73ec8-d98a-c8c8-77d5-0bd64f309b33" class="modal-block w-inline-block" (click)="openModal('personal')">
            <img src="images/circle-user.png" loading="lazy" alt="user-icon" class="image-3">
            <div class="card-micuenta">
                <h4 class="micuenta-modal-title">Datos personales</h4>
                <p class="paragraph-2">Nombre, correo y opciones de cuenta</p>
            </div>
        </div>

        
        <div class="modal-block2 w-inline-block" (click)="openModal('home')">
          <img src="images/house.png" alt="house-icon" class="image-3">
          <div class="card-micuenta">
            <h4 class="micuenta-modal-title">Tu hogar</h4>
            <p class="paragraph-2">Dirección, tipo de vivienda y ambiente</p>
          </div>
        </div>

      <div data-w-id="0f4fe727-a0dd-3531-c6ee-b0344cff5d0c" class="modal-block3 w-inline-block" (click)="openModal('billing')">
        <img src="images/credit-card.png" loading="lazy" alt="creditcard-icon" class="image-3">
        <div class="card-micuenta">
          <h4 class="micuenta-modal-title">Facturación</h4>
          <p class="paragraph-2">Métodos de pago, ciclo de facturación</p>
        </div>
      </div>

      <div data-w-id="0f4fe727-a0dd-3531-c6ee-b0344cff5d0c" class="modal-block3 w-inline-block" (click)="openModal('logros')">
        <img src="images/trophy-icon-blanco.png" loading="lazy" alt="trophy-icon" class="image-3">
        <div class="card-micuenta">
          <h4 class="micuenta-modal-title">Logros</h4>
          <p class="paragraph-2">Todos tus logros obtenidos</p>
        </div>
      </div>

      <!-- Cards de sensores -->
      <div
        *ngFor="let sensor of sensores; let i = index"
        class="modal-block4 w-inline-block"
        (click)="openModalSensor('sensor' + i)"
      >
        <img src="images/house-wifi.png" loading="lazy" alt="sensor-icon" class="image-3">
        <div class="card-micuenta">
          <h4 class="micuenta-modal-title">Sensor / {{ sensor?.nombreSensor }}</h4>
          <div class="estado-container">
            <p class="paragraph-2">
              Estado actual:
              <span [ngClass]="getSensorStatusDisplay(sensor?.estadoActual).className">
                {{ getSensorStatusDisplay(sensor?.estadoActual).text }}
              </span>
            </p>
            <div [ngClass]="getSensorStatusDisplay(sensor?.estadoActual).className.replace('estado', 'punto')"></div>
          </div>
        </div>
      </div>

      <a href="https://aquavision-comercial.webflow.io/contacto" target="_blank" rel="noopener noreferrer" class="modal-block modal-plus w-inline-block">
        <img src="images/circle-fading-plus.png" loading="lazy" alt="plus-icon" class="image-3 modal-plus">
        <div class="card-micuenta modal-plus">
          <h5 class="micuenta-modal-title modal-plus">Solicitar un nuevo sensor</h5>
        </div>
      </a>

    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=688247509de70e4ad4050954" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="./js/webflow.js" type="text/javascript"></script>
  <button class="button-logout" (click)="logout()">Cerrar sesión</button>
  </body>
</html>